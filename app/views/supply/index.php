<!-- Main Row =============================================== --><div class="container-fluid">	<div class="row-fluid">				<div class="well">			<h1 class="text-info">Data Supply Produk</h1>		</div>		<div class="well">			<div class="pull-right"> 				<button class="btn btn-success" onClick="showFormAddNew()">Tambah Baru</button> 			</div>			<input id="inputFilterFirstDate" class="span2" type="text" data-provide="datepicker" value="<? echo date('Y-m-d'); ?>">			<input id="inputFilterLastDate" class="span2" type="text" data-provide="datepicker" value="<? echo date('Y-m-d'); ?>">			<br><br>			<input type="text" id="inputSearching" class="span5" data-provide="typeahead" placeholder="Lihat History Supply Per Item">			<br><br>			<table class="table table-bordered table-hover">				<thead>					<tr>						<th width='10%'>ID Produk</th>						<th width='40%'>Judul / Nama</th>						<th>Tanggal Supply</th>						<th>Jumlah</th>						<th width='15%'>Aksi</th>					</tr>				</thead>								<tbody id="tblsupply">					<? foreach ($this->listSupply as $key => $value) { ?>						<tr id="supply-<? echo $value['id']; ?>">							<td><? echo $value['code']; ?></td>							<td><? echo $value['title']; ?></td>							<td><? echo date('d-m-Y', strtotime($value['supplydate'])); ?></td>							<td><? echo $value['total']; ?></td>							<td>								<div class="btn-group">									<a class="btn btn-info" href="javascript:void(0)"><i class="icon-edit icon-white"></i> Aksi</a>									<a class="btn btn-info dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)"><span class="caret"></span></a>									<ul class="dropdown-menu">										<li>											<a href="javascript:void(0)" onClick="return selectThis(<? echo $value['id']; ?>)">											<i class="icon-pencil"></i> Detail Produk</a>											<a href="javascript:void(0)" onClick="return removeThis(<? echo $value['id']; ?>)">											<i class="icon-remove"></i> Batalkan</a>										</li>									</ul>								</div>							</td>						</tr>					<? } ?>				</tbody>			</table>		</div>	</div></div><!-- Form Add Supply [modal]===================================== --><div id="formAddNew" class="modal hide fade" tabindex="-1" aria-hidden="true">	<div class="modal-header">		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>		<h3 id="myModalLabel">Supply Produk</h3>	</div>	<div class="modal-body">		<form class="form-horizontal">			<div class="control-group">				<label class="control-label" for="inputTitle">Pilih Produk</label>				<div class="controls">					<input type="hidden" id="inputProductID">					<input type="text" id="inputTitle" class="span3" data-provide="typeahead" placeholder="Temukan">				</div>			</div>			<div class="control-group">				<label class="control-label" for="inputSupplyDate">Tanggal Supply</label>				<div class="controls">					<input id="inputSupplyDate" class="span2" type="text" data-provide="datepicker" value="<? echo date('Y-m-d'); ?>">				</div>			</div>				<div class="control-group">				<label class="control-label" for="inputTotal">Total</label>				<div class="controls">					<input type="text" name="inputTotal">				</div>			</div>		</form>	</div>	<div class="modal-footer">		<button class="btn" data-dismiss="modal" aria-hidden="true">Batal</button>		<button class="btn btn-primary" onClick="addNew()" data-dismiss="modal" aria-hidden="true">Simpan</button>	</div></div><!-- End of Form Add Supply [modal] --><script type="text/javascript">	$(function(){		$('#inputFilterFirstDate').datepicker({format: 'yyyy-mm-dd', autoclose : true});		$('#inputFilterLastDate').datepicker({format: 'yyyy-mm-dd', autoclose : true});		$('#inputFilterLastDate').on('changeDate', function(){			filterByDate();		});		$('#inputSupplyDate').datepicker({format: 'yyyy-mm-dd', autoclose : true});		$('#inputSearching').typeahead({			source : function(query,process){				return $.post(site+'product/xlistproduct', {title : query}, function(response){					response = $.parseJSON(response);					var sourceArr = [];						for(var i = 0; i < response.length; i++)					{						sourceArr.push(response[i].id +"#"+ response[i].title);					}					return process(sourceArr);				})			},			highlighter : function(item){				var product = item.split('#');				var item = ''                		+ "<div class='typeahead_wrapper'>"                		+ "<img class='typeahead_photo' src='"+site+"assets/img/books.png'/>"                		+ "<div class='typeahead_labels'>"                		+ "<div class='typeahead_primary'>" + product[1] + "</div>"                 		+ "</div>"                 		+ "</div>";       		 	return item;			},			updater : function(item){				var product = item.split('#');				load('supply/producthistory/'+product[0],'#tblsupply');			}		});		$('#inputTitle').typeahead({			source : function(query,process){				return $.post(site+'product/xlistproduct', {title : query}, function(response){					response = $.parseJSON(response);					var sourceArr = [];						for(var i = 0; i < response.length; i++)					{						sourceArr.push(response[i].id +"#"+ response[i].title);					}					return process(sourceArr);				})			},			highlighter : function(item){				var product = item.split('#');				var item = ''                		+ "<div class='typeahead_wrapper'>"                		+ "<img class='typeahead_photo' src='"+site+"assets/img/books.png'/>"                		+ "<div class='typeahead_labels'>"                		+ "<div class='typeahead_primary'>" + product[1] + "</div>"                 		+ "</div>"                 		+ "</div>";       		 	return item;			},			updater : function(item){				var product = item.split('#');				$('#inputProductID').val(product[0]);				return product[1];			}		});	})	function showFormAddNew()	{		$('#formAddNew').modal('show');	}	function addNew()	{		var product = $('#inputProductID').val();		var supplydate = $('#inputSupplyDate').val();		var total = $('input[name=inputTotal]').val();		$.post(site+'supply/addnew', 			{product : product, supplydate : supplydate, total : total}, 			function(){				window.location = site+"supply";			});	}	function selectThis(id)	{		load('product/details/'+id,'#content');	}	function filterByDate()	{		var first = $('#inputFilterFirstDate').val();		var last = $('#inputFilterLastDate').val();		if(first != '' && last != '')		{			load('supply/datehistory/'+first+'_'+last,'#tblsupply');		}	}	function removeThis(id)	{		if(confirm("Anda Yakin Akan Membatalkan?"))		{			$.post(site+'supply/cancel', {id : id}, function(){				$('#supply-'+id).remove();			});		}	}</script>