<!-- Main Row =============================================== --><div class="container-fluid">	<div class="row-fluid">				<div class="well">			<h2 class="text-info"><a href="<? echo URL; ?>wholesale">Penjualan Grosir</a></h2>		</div>		<div class="well">			<input id="inputFilterDate" class="span2" type="text" data-provide="datepicker" value="<? echo date('Y-m-d'); ?>">			<input id="inputCostumerName" class="span5 pull-right" type="text" data-provide="typeahead" placeholder="Cari Pelanggan untuk Melakukan Transaksi">			<input type="hidden" id="inputEmployeeID" value="<? echo Session::get('user_employee'); ?>">			<input id="inputCostumerID" type="hidden" value="0">						<table class="table table-bordered table-hover">				<thead>					<tr>						<th width="10%">Nomor</th>						<th width="15%">Nomor Transaksi</th>						<th width="40%">Pelanggan</th>						<th>Tunai/Kredit</th>						<th>Total Belanja</th>						<th width='10%'>Aksi</th>					</tr>				</thead>								<tbody id="tbltransaction">					<? $count = 0; $totalprice = 0; $totalcash = 0;					foreach ($this->listTransaction as $key => $value) { 						$count++;						$totalprice += $value['total'];						if($value['cash'] == 1): 							$totalcash += $value['total'];						else:							$totalcash += $value['dp']; 						endif; ?>						<tr id="details-<? echo $value['id']; ?>">							<td><? echo $count; ?></td>							<td>								<? if($value['closing'] == 0) { ?>									<span class='text-error'>										<strong>											<a href='javascript:void(0)' onClick="load('wholesale/details/<? echo $value['sellingid']; ?>','#content')">												#<? echo $value['code'] ?>											</a>										</strong>									</span> 								<? }else{ ?>									<span class='text-success'>										<strong>											<a href='javascript:void(0)' onClick="load('wholesale/details/<? echo $value['sellingid']; ?>','#content')">												#<? echo $value['code']; ?>											</a>										</strong>									</span> 								<? } ?>							</td>							<td><strong><? echo $value['costumername']; ?></strong></td>							<td><? echo $value['cash'] == 1 ? "Tunai" : "Kredit"; ?></td>							<td><? echo $this->pecah($value['total']); ?></td>							<td>								<div class="btn-group">									<a class="btn btn-info" href="javascript:void(0)"><i class="icon-edit icon-white"></i> Aksi</a>									<a class="btn btn-info dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)"><span class="caret"></span></a>									<ul class="dropdown-menu">										<li>											<a href="javascript:void(0)" onClick="return selectThis(<? echo $value['sellingid']; ?>)">											<i class="icon-pencil"></i> Lihat Detail</a>										</li>										<? if($value['closing'] == 0) : ?>											<li>												<a href="javascript:void(0)" onClick="load('wholesale/newtransaction/'+<? echo $value['sellingid']; ?>,'#content');">												<i class="icon-ok"></i> Lanjutkan Transaksi</a>											</li>										<? endif; ?>									</ul>								</div>							</td>						</tr>					<? } ?>						<tr>							<td colspan="4"><span class="pull-right">Total Penjualan</span></td>							<td><strong><? echo $this->pecah($totalprice); ?></strong></td>							<td></td>						</tr>						<tr>							<td colspan="4"><span class="pull-right">Total Cash Masuk</span></td>							<td><strong><? echo $this->pecah($totalcash); ?></strong></td>							<td></td>						</tr>				</tbody>			</table>		</div>	</div></div><script type="text/javascript">	$(function(){		$('#inputFilterDate').datepicker({format: 'yyyy-mm-dd', autoclose : true});		$('#inputFilterDate').on('changeDate', function(){			filterByDate();		});		$('#inputCostumerName').typeahead({			source : function(query,process){				return $.post(site+'costumer/xlistcostumer', {param : query}, function(response){					response = $.parseJSON(response);					var sourceArr = [];						for(var i = 0; i < response.length; i++)					{						sourceArr.push(response[i].id +"#"+ response[i].name);					}					return process(sourceArr);				})			},			highlighter : function(item){				var costumer = item.split('#');				var item = ''                		+ "<div class='typeahead_wrapper'>"                		+ "<img class='typeahead_photo' src='"+site+"assets/img/user.png'/>"                		+ "<div class='typeahead_labels'>"                		+ "<div class='typeahead_primary'>" + costumer[1] + "</div>"                 		+ "</div>"                 		+ "</div>";       		 	return item;			},			updater : function(item){				var costumer = item.split('#');				$('#inputCostumerID').val(costumer[0]);				addNew();			}		});	})	function showFormSelectCostumer()	{		$('#formSelectCostumer').modal('show');	}	function addNew()	{		var employee = $('#inputEmployeeID').val();		var selldate = $('#inputFilterDate').val();		var costumer = $('#inputCostumerID').val();		$.post(site+'wholesale/newselling',{costumer : costumer, employee : employee, selldate : selldate}, function(data){			load('wholesale/newtransaction/'+data.selling,'#content');		},'json');	}	function selectThis(id)	{		load('wholesale/details/'+id,'#content');	}	function filterByDate()	{		var date = $('#inputFilterDate').val();		if(date)		{			load('wholesale/filterbydate/'+date,'#tbltransaction');		}	}</script>