<!-- Main Row =============================================== --><div class="container-fluid">	<div class="row-fluid">				<div class="well">			<h1 class="text-info"><a href="<? echo URL; ?>placement">Penempatan</a></h2>		</div>		<div class="well">			<div class="pull-right">				<button class="btn btn-success" onClick="showFormAddPlacement()"><i class="icon-plus icon-white"></i> Tambah Baru</button>			</div>			<select id="filterPlace" onChange="filterPlace()">				<? foreach ($this->listPlace as $key => $value) { ?>					<option value="<? echo $value['id']; ?>"><? echo $value['name']; ?></option>				<? } ?>			</select>			<input type="text" id="inputTitle" class="span5" data-provide="typeahead" placeholder="Pencarian">			<br><br>			<table class="table table-bordered table-hover">				<thead>					<tr>						<th width='40%'>Tempat</th>						<th width='50%'>Judul / Nama Produk</th>						<th width='10%'>Aksi</th>					</tr>				</thead>								<tbody id="tblPlacement">					<? foreach ($this->listPlacement as $key => $value) { ?>						<tr id="placement-<? echo $value['id']; ?>">							<td>								<? echo $value['name']; ?>								<input type="hidden" id="place-<? echo $value['id']; ?>" value="<? echo $value['place']; ?>">							</td>							<td>								<a href="javascript:void(0)" onClick="load('product/details/+<? echo $value['productid']; ?>', '#content');"><? echo $value['title']; ?></a>								<input type="hidden" id="product-<? echo $value['id']; ?>" value="<? echo $value['product']; ?>">								<input type="hidden" id="title-<? echo $value['id']; ?>" value="<? echo $value['title']; ?>">							</td>							<td>								<div class="btn-group">									<a class="btn btn-info" href="javascript:void(0)"><i class="icon-edit icon-white"></i> Aksi</a>									<a class="btn btn-info dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)"><span class="caret"></span></a>									<ul class="dropdown-menu">										<li>											<a href="javascript:void(0)" onClick="return showFormUpdatePlacement(<? echo $value['id']; ?>)">											<i class="icon-pencil"></i> Perbarui</a>										</li>										<li>											<a href="javascript:void(0)" onClick="return deletePlacement(<? echo $value['id']; ?>)">											<i class="icon-remove"></i> Hapus</a>										</li>									</ul>								</div>							</td>						</tr>					<? } ?>				</tbody>			</table>		</div>	</div></div><!-- Form Add Placement [modal]===================================== --><div id="formAddNewPlacement" class="modal hide fade" tabindex="-1" aria-hidden="true">	<div class="modal-header">		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>		<h3 id="myModalLabel">Set Penempatan</h3>	</div>	<div class="modal-body">		<form class="form-horizontal">			<div class="control-group">				<label class="control-label" for="inputPlace">Pilih Tempat</label>				<div class="controls">					<select id="inputPlace" class="span2">						<option value="0">--Pilih Tempat</option>						<? foreach ($this->listPlace as $key => $value) { ?>							<option value="<? echo $value['id']; ?>"><? echo $value['name']; ?></option>						<? } ?>					</select>				</div>			</div>				<div class="control-group">				<label class="control-label" for="inputProduct">Judul/Nama Produk</label>				<div class="controls">					<input type="hidden" id="inputProductID" value="0">					<input id="inputProduct" class="span3" type="text">				</div>			</div>			</form>	</div>	<div class="modal-footer">		<button class="btn" data-dismiss="modal" aria-hidden="true">Batal</button>		<button class="btn btn-primary" onClick="addPlacement()" data-dismiss="modal" aria-hidden="true">Simpan</button>	</div></div><!-- End of Add Placement [modal] --><!-- Form Update Placement [modal]===================================== --><div id="formUpdatePlacement" class="modal hide fade" tabindex="-1" aria-hidden="true">	<div class="modal-header">		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>		<h3 id="myModalLabel">Perbarui Penempatan</h3>	</div>	<div class="modal-body">		<form class="form-horizontal">			<div class="control-group">				<label class="control-label" for="inputUPlace">Pilih Tempat</label>				<div class="controls">					<input id="inputPlacementID" value="0" type="hidden">					<select id="inputUPlace" class="span2">						<option value="0">--Pilih Tempat</option>						<? foreach ($this->listPlace as $key => $value) { ?>							<option value="<? echo $value['id']; ?>"><? echo $value['name']; ?></option>						<? } ?>					</select>				</div>			</div>				<div class="control-group">				<label class="control-label" for="inputProduct">Judul/Nama Produk</label>				<div class="controls">					<input type="hidden" id="inputUProductID" value="0">					<input id="inputUProduct" class="span3" type="text">				</div>			</div>			</form>	</div>	<div class="modal-footer">		<button class="btn" data-dismiss="modal" aria-hidden="true">Batal</button>		<button class="btn btn-primary" onClick="updatePlacement()" data-dismiss="modal" aria-hidden="true">Simpan</button>	</div></div><!-- End of Update Placement [modal] --><script type="text/javascript">	$(function(){		$('#inputTitle').typeahead({			source : function(query,process){				return $.post(site+'product/xlistproduct', {title : query}, function(response){					response = $.parseJSON(response);					var sourceArr = [];						for(var i = 0; i < response.length; i++)					{						sourceArr.push(response[i].id +"#"+ response[i].title +"#"+ response[i].publishername +"#" + response[i].sellprice);					}					return process(sourceArr);				})			},			highlighter : function(item){				var product = item.split('#');				var item = ''                		+ "<div class='typeahead_wrapper'>"                		+ "<img class='typeahead_photo' src='"+site+"assets/img/books.png'/>"                		+ "<div class='typeahead_labels'>"                		+ "<div class='typeahead_primary'>" + product[1] + "</div>"                		+ "<div class='typeahead_secondary'>" + product[2] + " # " + formatRupiah(product[3]) +"</div>"                 		+ "</div>"                 		+ "</div>";       		 	return item;			},			updater : function(item){				var product = item.split('#');				load('placement/filterproduct/'+product[0],'#tblPlacement');			}		});		$('#inputProduct').typeahead({			source : function(query,process){				return $.post(site+'product/xlistproduct', {title : query}, function(response){					response = $.parseJSON(response);					var sourceArr = [];						for(var i = 0; i < response.length; i++)					{						sourceArr.push(response[i].id +"#"+ response[i].title +"#"+ response[i].publishername +"#" + response[i].sellprice);					}					return process(sourceArr);				})			},			highlighter : function(item){				var product = item.split('#');				var item = ''                		+ "<div class='typeahead_wrapper'>"                		+ "<img class='typeahead_photo' src='"+site+"assets/img/books.png'/>"                		+ "<div class='typeahead_labels'>"                		+ "<div class='typeahead_primary'>" + product[1] + "</div>"                		+ "<div class='typeahead_secondary'>" + product[2] + " # " + formatRupiah(product[3]) +"</div>"                 		+ "</div>"                 		+ "</div>";       		 	return item;			},			updater : function(item){				var product = item.split('#');				$('#inputProductID').val(product[0]);				return product[1];			}		});		$('#inputUProduct').typeahead({			source : function(query,process){				return $.post(site+'product/xlistproduct', {title : query}, function(response){					response = $.parseJSON(response);					var sourceArr = [];						for(var i = 0; i < response.length; i++)					{						sourceArr.push(response[i].id +"#"+ response[i].title +"#"+ response[i].publishername +"#" + response[i].sellprice);					}					return process(sourceArr);				})			},			highlighter : function(item){				var product = item.split('#');				var item = ''                		+ "<div class='typeahead_wrapper'>"                		+ "<img class='typeahead_photo' src='"+site+"assets/img/books.png'/>"                		+ "<div class='typeahead_labels'>"                		+ "<div class='typeahead_primary'>" + product[1] + "</div>"                		+ "<div class='typeahead_secondary'>" + product[2] + " # " + formatRupiah(product[3]) +"</div>"                 		+ "</div>"                 		+ "</div>";       		 	return item;			},			updater : function(item){				var product = item.split('#');				$('#inputUProductID').val(product[0]);				return product[1];			}		});	})	function showFormAddPlacement()	{		$('#formAddNewPlacement').modal('show');		$('#inputProduct').val('');		$('#inputProductID').val('0');		$('#inputPlace').val('0');	}	function addPlacement()	{		var product = $('#inputProductID').val();		var place = $('#inputPlace').val();		$.post(site+'placement/addnew', {product:product,place:place}, function(){			window.location = site+"placement";		});	}	function showFormUpdatePlacement(id)	{			$('#formUpdatePlacement').modal('show');		$('#inputPlacementID').val(id);		$('#inputUPlace').val($('#place-'+id).val());		$('#inputUProductID').val($('#product-'+id).val());		$('#inputUProduct').val($('#title-'+id).val());	}	function updatePlacement()	{		var id = $('#inputPlacementID').val();		var product = $('#inputUProductID').val();		var place = $('#inputUPlace').val();		$.post(site+'placement/update',{id:id,product:product,place:place}, function(){			load('placement/filterplace/'+place,'#tblPlacement');		});	}	function filterPlace(place)	{		var place = $('#filterPlace').val();		load('placement/filterplace/'+place,'#tblPlacement');	}	function deletePlacement(id)	{		if(confirm("Anda Yakin Akan Menghapus Data Ini?"))		{			$.post(site+'placement/delete', {id : id}, function(){				$('#placement-'+id).remove();			});		}	}</script>