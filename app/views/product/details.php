<!-- Main Row =============================================== --><div class="container-fluid">	<div class="row-fluid">				<div class="well">			<h2 class="text-info"><a href="<? echo URL; ?>product">Data Produk</a></h2>		</div>		<br>		<div class="span1"></div>		<div class="span9 well">				<table class="table table-hover">					<tbody>						<tr>							<td width="49%"><div class="pull-right">ID / Kode Produk</div></td>							<td>:</td>							<td width="49%"><strong class="text-info"><? echo $this->detailsProduct['code']; ?></strong></td>						</tr>						<tr>							<td><div class="pull-right">Judul / Nama Produk</div></td>							<td>:</td>							<td><strong class="text-info"><? echo $this->detailsProduct['title']; ?></strong></td>						</tr>						<tr>							<td><div class="pull-right">Penerbit</div></td>							<td>:</td>							<td><strong class="text-info"><? echo $this->detailsProduct['publishername']; ?></strong></td>						</tr>						<tr>							<td><div class="pull-right">Penulis</div></td>							<td>:</td>							<td><strong class="text-info"><? echo $this->detailsProduct['writer']; ?></strong></td>						</tr>						<tr>							<td><div class="pull-right">Harga Pokok</div></td>							<td>:</td>							<td><strong class="text-info"><? echo $this->pecah($this->detailsProduct['price']); ?></strong></td>						</tr>						<tr>							<td><div class="pull-right">Harga Jual</div></td>							<td>:</td>							<td><strong class="text-info"><? echo $this->pecah($this->detailsProduct['sellprice']); ?></strong></td>						</tr>					</tbody>				</table>				<center>					<button class="btn btn-mini btn-info" onClick="showFormUpdateDetails()">Update</button>				</center>				<br><br>				<table class="table table-hover">					<tbody>						<tr>							<td width="49%"><div class="pull-right">Klasifikasi</div></td>							<td>:</td>							<td width="49%"><strong class="text-error"><? echo $this->detailsProduct['classname']; ?></strong></td>						</tr>					</tbody>				</table>				<center><button class="btn btn-mini btn-info" onClick="showFormUpdateClass()">Update</button></center>				<br><br>				<table class="table table-hover">					<tbody>						<tr>							<td width="49%"><div class="pull-right">Jumlah Stock</div></td>							<td>:</td>							<td width="49%"><strong class="text-success"><? echo $this->detailsProduct['stock']; ?></strong></td>						</tr>						<tr>							<td><div class="pull-right">Opname Terakhir</div></td>							<td>:</td>							<td><strong class="text-success"><? echo date('d-m-Y', strtotime($this->detailsProduct['lastopname'])); ?></strong></td>						</tr>					</tbody>				</table>				<center>					<button class="btn btn-mini btn-info" onClick="showFormOpname()">Opname</button>				</center>				<br><br>				<table class="table table-hover">					<tbody>						<tr>							<td width="49%"><div class="pull-right">Jenis Produk</div></td>							<td>:</td>							<td width="49%">								<strong class="text-warning">									<? echo $this->detailsProduct['consignment'] == TRUE ? 'Konsinyasi' : 'Milik Sendiri'; ?>								</strong>							</td>						</tr>						<tr>							<td width="49%"><div class="pull-right">Nama Supplier</div></td>							<td>:</td>							<td width="49%"><strong class="text-warning"><? echo $this->detailsProduct['suppliername']; ?></strong></td>						</tr>					</tbody>				</table>				<center><button class="btn btn-mini btn-info" onClick="showFormUpdateConsignment()">Update</button></center>		</div>		<div class="span2"></div>	</div></div><!-- Form Update Details [modal]===================================== --><div id="formUpdateDetails" class="modal hide fade" tabindex="-1" aria-hidden="true">	<div class="modal-header">		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>		<h3 id="myModalLabel">Update Details</h3>	</div>	<div class="modal-body">		<form class="form-horizontal">			<div class="control-group">				<label class="control-label" for="inputCode">ID/Kode Produk</label>				<div class="controls">					<input type="text" name="inputCode" disabled>				</div>			</div>			<div class="control-group">				<label class="control-label" for="inputTitle">Judul / Nama</label>				<div class="controls">					<textarea name="inputTitle"></textarea>				</div>			</div>			<div class="control-group">				<label class="control-label" for="inputWriter">Penulis</label>				<div class="controls">					<textarea name="inputWriter"></textarea>				</div>			</div>			<div class="control-group">				<label class="control-label" for="inputPrice">Harga Pokok</label>				<div class="controls">					<input type="text" name="inputPrice" onKeyUp="formatNumber(this)">				</div>			</div>			<div class="control-group">				<label class="control-label" for="inputSellPrice">Harga Jual</label>				<div class="controls">					<input type="text" name="inputSellPrice" onKeyUp="formatNumber(this)">				</div>			</div>		</form>	</div>	<div class="modal-footer">		<button class="btn" data-dismiss="modal" aria-hidden="true">Batal</button>		<button class="btn btn-primary" onClick="updateDetails(<? echo $this->detailsProduct['id'];?>)" data-dismiss="modal" aria-hidden="true">Simpan Perubahan</button>	</div></div><!-- End of Form Update Details [modal] --><!-- Form Opname [modal]===================================== --><div id="formOpname" class="modal hide fade" tabindex="-1" aria-hidden="true">	<div class="modal-header">		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>		<h3 id="myModalLabel">Opname</h3>	</div>	<div class="modal-body">		<form class="form-horizontal">			<div class="control-group">				<label class="control-label" for="inputstock">Stock</label>				<div class="controls">					<input type="text" name="inputstock">				</div>			</div>		</form>	</div>	<div class="modal-footer">		<button class="btn" data-dismiss="modal" aria-hidden="true">Batal</button>		<button class="btn btn-primary" onClick="opname(<? echo $this->detailsProduct['id'];?>)" data-dismiss="modal" aria-hidden="true">Simpan</button>	</div></div><!-- End of Form Opname [modal] --><!-- Form Update Class [modal]===================================== --><div id="formUpdateClass" class="modal hide fade" tabindex="-1" aria-hidden="true">	<div class="modal-header">		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>		<h3 id="myModalLabel">Klasifikasi</h3>	</div>	<div class="modal-body">		<form class="form-horizontal">			<div class="control-group">				<label class="control-label" for="inputClass">Klasifikasi</label>				<div class="controls">					<select name="inputClass">						<? foreach ($this->listClass as $key => $value) { ?>							<option value="<? echo $value['id']; ?>"><? echo $value['name']; ?></option>						<? } ?>					</select>				</div>			</div>		</form>	</div>	<div class="modal-footer">		<button class="btn" data-dismiss="modal" aria-hidden="true">Batal</button>		<button class="btn btn-primary" onClick="updateClass(<? echo $this->detailsProduct['id'];?>)" data-dismiss="modal" aria-hidden="true">Simpan</button>	</div></div><!-- End of Form Update Class [modal] --><!-- Form Update Publisher [modal]===================================== --><div id="formUpdatePublisher" class="modal hide fade" tabindex="-1" aria-hidden="true">	<div class="modal-header">		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>		<h3 id="myModalLabel">Penerbit</h3>	</div>	<div class="modal-body">		<form class="form-horizontal">			<div class="control-group">				<label class="control-label" for="inputPublisher">Penerbit</label>				<div class="controls">					<input type="hidden" id="inputPublisherID">					<input type="text" id="inputPublisherName" class="span3" data-provide="typeahead" placeholder="Cari Penerbit">				</div>			</div>		</form>	</div>	<div class="modal-footer">		<button class="btn" data-dismiss="modal" aria-hidden="true">Batal</button>		<button class="btn btn-primary" onClick="updatePublisher(<? echo $this->detailsProduct['id'];?>)" data-dismiss="modal" aria-hidden="true">Simpan</button>	</div></div><!-- End of Form Update Publisher [modal] --><!-- Form Update Supplier [modal]===================================== --><div id="formUpdateConsignment" class="modal hide fade" tabindex="-1" aria-hidden="true">	<div class="modal-header">		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>		<h3 id="myModalLabel">Update Supplier</h3>	</div>	<div class="modal-body">		<form class="form-horizontal">			<div class="control-group">				<label class="control-label" for="inputConsignment">Jenis Supplier</label>				<div class="controls">					<select name="inputConsignment" class="span2">						<option value="0">Milik Sendiri</option>						<option value="1">Konsinyasi</option>					</select>				</div>			</div>			<div class="control-group">				<label class="control-label" for="inputSupplier">Supplier</label>				<div class="controls">					<input type="hidden" id="inputSupplierID">					<input type="text" id="inputSupplierName" class="span3" data-provide="typeahead" placeholder="Cari Supplier">				</div>			</div>		</form>	</div>	<div class="modal-footer">		<button class="btn" data-dismiss="modal" aria-hidden="true">Batal</button>		<button class="btn btn-primary" onClick="updateConsignment(<? echo $this->detailsProduct['id'];?>)" data-dismiss="modal" aria-hidden="true">Simpan</button>	</div></div><!-- End of Form Update Supplier [modal] --><input type="hidden" name="code" value="<? echo $this->detailsProduct['code']; ?>"><input type="hidden" name="title" value="<? echo $this->detailsProduct['title']; ?>"><input type="hidden" name="writer" value="<? echo $this->detailsProduct['writer']; ?>"><input type="hidden" name="price" value="<? echo $this->detailsProduct['price']; ?>"><input type="hidden" name="sellprice" value="<? echo $this->detailsProduct['sellprice']; ?>"><input type="hidden" name="stock" value="<? echo $this->detailsProduct['stock']; ?>"><input type="hidden" name="lastopname" value="<? echo $this->detailStock['lastopname']; ?>"><input type="hidden" name="publisher" value="<? echo $this->detailsProduct['publisher']; ?>"><input type="hidden" name="class" value="<? echo $this->detailsProduct['class']; ?>"><input type="hidden" name="supplier" value="<? echo $this->detailsProduct['supplier']; ?>"><input type="hidden" name="suppliername" value="<? echo $this->detailsProduct['suppliername']; ?>"><input type="hidden" name="consignment" value="<? echo $this->detailsProduct['consignment']; ?>"><script type="text/javascript">	$(function(){		$('#inputPublisherName').typeahead({			source : function(query,process){				return $.post(site+'product/xlistpublisher', {param : query}, function(response){					response = $.parseJSON(response);					var sourceArr = [];						for(var i = 0; i < response.length; i++)					{						sourceArr.push(response[i].id +"#"+ response[i].name);					}					return process(sourceArr);				})			},			highlighter : function(item){				var publisher = item.split('#');				var item = ''	            		+ "<div class='typeahead_wrapper'>"	            		+ "<div class='typeahead_labels'>"	            		+ "<div class='typeahead_primary'>" + publisher[1] + "</div>"	             		+ "</div>"	             		+ "</div>";	   		 	return item;			},			updater : function(item){				var publisher = item.split('#');				$('#inputPublisherID').val(publisher[0]);				return publisher[1];			}		});		$('#inputSupplierName').typeahead({			source : function(query,process){				return $.post(site+'product/xlistsupplier', {param : query}, function(response){					response = $.parseJSON(response);					var sourceArr = [];						for(var i = 0; i < response.length; i++)					{						sourceArr.push(response[i].id +"#"+ response[i].name);					}					return process(sourceArr);				})			},			highlighter : function(item){				var supplier = item.split('#');				var item = ''	            		+ "<div class='typeahead_wrapper'>"	            		+ "<img class='typeahead_photo' src='"+site+"assets/img/suppliers_icon.gif'/>"	            		+ "<div class='typeahead_labels'>"	            		+ "<div class='typeahead_primary'>" + supplier[1] + "</div>"	             		+ "</div>"	             		+ "</div>";	   		 	return item;			},			updater : function(item){				var supplier = item.split('#');				$('#inputSupplierID').val(supplier[0]);				return supplier[1];							}		});	})	function showFormUpdateClass()	{		$('#formUpdateClass').modal('show');		$('select[name=inputClass]').val($('input[name=class]').val());	}	function showFormUpdateDetails()	{		$('#formUpdateDetails').modal('show');		$('input[name=inputCode]').val($('input[name=code]').val());		$('textarea[name=inputTitle]').val($('input[name=title]').val());		$('textarea[name=inputWriter]').val($('input[name=writer]').val());		$('input[name=inputPrice]').val($('input[name=price]').val());		$('input[name=inputSellPrice]').val($('input[name=sellprice]').val());	}	function showFormOpname()	{		$('#formOpname').modal('show');		$('input[name=inputstock]').val($('input[name=stock]').val());		$('input[name=inputstockOH]').val($('input[name=stockoh]').val());	}	function showFormUpdatePublisher()	{		$('#formUpdatePublisher').modal('show');		$('select[name=inputPublisher]').val($('input[name=publisher]').val());	}	function showFormUpdateConsignment()	{		$('#formUpdateConsignment').modal('show');		$('#inputSupplierID').val($('input[name=supplier]').val());		$('#inputSupplierName').val($('input[name=suppliername]').val());		$('select[name=inputConsignment]').val($('input[name=consignment]').val());	}	function updateDetails(id)	{		var title = $('textarea[name=inputTitle]').val();		var writer = $('textarea[name=inputWriter]').val();		var price = parseInt(replaceAll($('input[name=inputPrice]').val(),',',''));		var sellprice = parseInt(replaceAll($('input[name=inputSellPrice]').val(),',',''));		$.post(site+'/product/update',			{ id : id,			title : title,			writer : writer,			price : price,			sellprice : sellprice}, 			function(){				load('product/details/'+id,'#content');			});	}	function opname(id)	{		var stock = $('input[name=inputstock]').val();		$.post(site+'/product/opname',			{id : id,			stock : stock}, 			function(){				load('product/details/'+id,'#content');			});	}	function updateClass(id)	{		var classes = $('select[name=inputClass]').val();		$.post(site+'/product/updateclass',			{id : id,			classes : classes}, 			function(){				load('product/details/'+id,'#content');			});	}	function updatePublisher(id)	{		var publisher = $('#inputPublisherID').val();		$.post(site+'product/updatepublisher',			{id : id,			publisher : publisher}, 			function(){				load('product/details/'+id,'#content');			});	}	function updateConsignment(id)	{		var supplier = $('#inputSupplierID').val();		var consignment = $('select[name=inputConsignment]').val();		$.post(site+'/product/updateconsignment',			{id : id,			supplier : supplier,			consignment : consignment}, 			function(){				load('product/details/'+id,'#content');			});	}</script>